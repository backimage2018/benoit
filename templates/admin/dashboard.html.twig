{%extends"admin/baseadmin.html.twig"%}

{% block page %}
            <div class="content">
                <div class="container-fluid">
                    <div class="row">

                        <div class="col-lg-5 col-md-6 col-sm-6">
                            <div class="card card-stats">
                                <div class="card-header" data-background-color="red">
                                    <i class="material-icons">Entrepot</i>
                                </div>
                          
                                <div class="card-content">
                                    <p class="category">Alerte Entrepot  </p>
                                   
                                </div>
                                <div class="card-footer">
                                    <div class="stats">
                                  
                                        <i class="material-icons">alert</i> 
                                        {% for message in messages if message.messageent != "" %}
										
                                       
                                         {% if loop.index < 4 %}
                                     <p class="alerteentrepot">{{ message.messageent }}<p>
                                     
                                   
                                     	 {% endif %}
                                   {% if loop.index == 4 %}
                                        <a href="../admin/entrepot">Voir les alertes </a>
                                          	 {% endif %}  
                                        {%   endfor %}
                                    
                                     	
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                         <div class="col-lg-5 col-md-6 col-sm-6">
                            <div class="card card-stats">
                                <div class="card-header" data-background-color="red">
                                    <i class="material-icons">Magasin</i>
                                </div>
                                <div class="card-content">
                               
                                    <p class="category">Alerte Magasin </p>
                                    </div>
                                    <div class="card-footer">
                                    <div class="stats">
                                    <i class="material-icons">alert</i> 
                                               {% for message in messages  if message.messagemag != "" %}
                                                
                              {% if loop.index < 4 %}
                                    <p class="alertemagasin">{{ message.messagemag }}<p>
                                    
                                  {% endif %}      
                                   {% if loop.index == 4 %}
                                       <a href="../admin/magasin">Voir les alertes </a>
                                          	 {% endif %}  
                                        {%   endfor %}
                                     
                                </div>
                                </div>
                         
                            </div>
                        </div>

                    </div>
                    
                    <div class="row">

                        <div class="col-lg-8 col-md-8">
                            <div class="card">
                                <div class="card-header" data-background-color="blue">
                                    <h4 class="title">Listes des produits en stock</h4>
                                    <p class="category">Listes des produits au  {{ "now"|date("d/m/Y") }} </p>	
                                </div>
                                <div class="card-content table-responsive">
                                    <table id=table_id class="table table-striped table-bordered display">
                                        <thead class="text-warning">
                                            <th>ID</th>
                                            <th>Produit</th>
                                            <th>Prix</th>
                                            <th>Couleurs</th>
                                            <th>Sexe</th>
                                            <th>Categorie</th>
                                            <th>Quantité (Magasin)</th>
                                            <th>Quantité (Entrepot)</th>
                                            <th></th>
                                        </thead>
                                        <tbody>
                                        <p class="erreurstockmag succes"> <p>
                                        {% for articles in article %}
                                            <tr >
                                                <td>{{ articles.id }}</td>
                                                <td>{{ articles.nom }}</td>
                                                <td>{{ articles.prix }} €</td>
                                                <td>{{ articles.couleur }}</td>
                                                <td>{{ articles.sexe }}</td>
                                                <td>{{ articles.categorie }}</td>
                                                
{#                           label et input pouur stock magasin #}
                              <td><label class="labelmagasin{{ articles.id }}" for="stockmagasin">{{ articles.stock.stockMagasin }}</label>
                              <input type="text" class ="stockm stockmagasin{{ articles.id }}" data="{{ articles.id }}" id="row-{{articles.id  }}-Quantitémag"  name="row-{{articles.id  }}-Quantitémag stockmagasin"></input>
                              </td>
 {#                           label et input pouur stock Entreprise #}                                            
                              <td><label class="labelentrepot{{ articles.id }}" data="{{  articles.stock.stockEntrepot }}" for="stockentrepot">{{  articles.stock.stockEntrepot }}</label>
                              <input type="text"   class ="stocke stockentrepot{{ articles.id }}" data="{{ articles.id }}" id="row-{{articles.id  }}-Quantitéent"  name="row-{{articles.id  }}-Quantitéent stockentrepot"></input></td>
  {#                           Bouton radio pour affichage vignette #}                                               
                             <td> <input class="radio" type="radio" name="article " value="{{ articles.id }}"  onsubmit="/admin/dashboard"></td>
                               </tr>
									
                       			{% endfor %}
                       					
                       					
                                        </tbody>
                                    </table>
                                    
                                    
                                </div>
                            </div>
                        </div>
                        <div id="vignette">
                        
                    
                       </div>
                                             <div class="col-lg-12 col-md-12">
                            <div class="card">
                                <div class="card-header" data-background-color="blue">
                                    <h4 class="title">Listes des produits hors site</h4>
                                    <p class="category">Listes des produits au  {{ "now"|date("d/m/Y") }} </p>	
                                </div>
                                <div class="card-content table-responsive">
                                    <table id="table_id" class="table table-hover display">
                                        <thead class="text-warning">
                                            <th>ID</th>
                                            <th>Produit</th>
                                            <th>Prix</th>
                                            <th>Couleurs</th>
                                            <th>Sexe</th>
                                            
                                            <th>Quantite</th>
                                            <th>Quantite</th>
                                        </thead>
                                        <tbody>
                                        {% for articles in articlenoshow %}
                                            <tr>
                                                <td>{{ articles.id }}</td>
                                                <td>{{ articles.nom }}</td>
                                                <td>{{ articles.prix }} €</td>
                                                <td>{{ articles.couleur }}</td>
                                                <td>{{ articles.sexe }}</td>
                                                
                                                <form action="/admin/majstock/{{ articles.id }}">
                                                 <td>
                                                 <input type="number" class ="stock" id ="row-1-Quantite" name="row-1-Quantite" data="{{ articles.id }}"  name="stockmagasin"></input>
                                                 </td>
                                           
                                              <td>
                                              <input type="number"   class ="stock" id ="row-2-Quantite" name="row-2-Quantite" data="{{ articles.id }}"  name="stockentrepot"></input></td>
                                               <td> <button class="btn" >Mettre a jour</button></td>
                                            </form>
                                            </tr>

                       					{% endfor %}
                       					
                       					
                                        </tbody>
                                    </table>
                                    
                                    
                                </div>
                            </div>
                        </div>
                        
                    
                        
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-lg-12 col-md-12">
                            <div class="card">
                                <div class="card-header" data-background-color="purple">
                                    <h4 class="title">Ajouter un produit</h4>
                                    
                                </div>
                                
  <div class="form-group container ">
{{ form_start(form,{'attr':{'class':'clearfix','id':'checkout-form',"novalidate":"novalidate"}}) }}

 <div class="col-md-4">
 
{{ form_widget(form.nom,{'attr':{'class':'input','placeholder':'Entrer le nom du produit'}}) }}
{{ form_errors(form.nom) }}


{{ form_widget(form.prix,{'attr':{'class':'input','placeholder':'Entrer le prix du produit'}}) }}
{{ form_errors(form.prix) }}

{{ form_widget(form.ancienprix,{'attr':{'class':'input','placeholder':'Entrer l ancien prix du produit','novalidate':'novalidate'}}) }}
{{ form_errors(form.ancienprix) }}

{{ form_widget(form.taille,{'attr':{'class':'input','placeholder':'Entrer la taille du produit'}}) }}
{{ form_errors(form.taille) }}

{{ form_widget(form.couleur,{'attr':{'class':'input','placeholder':'Entrer la couleur du produit'}}) }}
{{ form_errors(form.couleur) }}

{{ form_widget(form.collection,{'attr':{'class':'input','placeholder':'Entrer la collection du produit'}}) }}
{{ form_errors(form.collection) }}

{{ form_widget(form.description,{'attr':{'class':'input','placeholder':'Entrer la description du produit'}}) }}
{{ form_errors(form.description) }}

{{ form_widget(form.disponibilite,{'attr':{'class':'input','placeholder':'Entrer la disponibilite du produit'}}) }}
{{ form_errors(form.disponibilite) }}
</div>

 <div class="col-md-4 col-md-offset-1">

{{ form_widget(form.marque,{'attr':{'class':'input','placeholder':'Entrer la marque du produit'}}) }}
{{ form_errors(form.marque) }}


{{ form_widget(form.detail,{'attr':{'class':'input','placeholder':'Entrer le detail du produit'}}) }}
{{ form_errors(form.detail) }}

 {{ form_widget(form.categorie,{'attr':{'class':'input','placeholder':'Entrer la categorie du produit'}}) }}
{{ form_errors(form.categorie) }}


{{ form_widget(form.sexe,{'attr':{'class':'input','placeholder':'Entrer le sexe du produit'}}) }}
{{ form_errors(form.sexe) }}

{{ form_widget(form.reduction,{'attr':{'class':'input','placeholder':'Entrer la reduction du produit'}}) }}
{{ form_errors(form.reduction) }}

{{ form_widget(form.new,{'attr':{'class':'input','placeholder':'Signaler le produit nouveau?'}}) }}
{{ form_errors(form.new) }}

{{ form_widget(form.display,{'attr':{'class':'input','placeholder':'Afficher le produit sur le site?'}}) }}
{{ form_errors(form.display) }}

{{ form_widget(form.description,{'attr':{'class':'input','placeholder':'Entrer la description du produit'}}) }}
{{ form_errors(form.description) }}
 </div>
<div class="col-md-2 col-md-offset-1">

{{ form_widget(form.Stock.StockMagasin,{'attr':{'class':'input','placeholder':'Stock magasin'}}) }}

{{ form_widget(form.Stock.StockEntrepot,{'attr':{'class':'input','placeholder':'Stock entrepot'}}) }}

</div>

<div class="col-md-12">
{{ form_widget(form.image) }}



{% if image is null %}

 
{% else %}
<img src={{asset("uploads/image/" ~ image) }} alt="">
 {% endif %}
</div>
<div class="col-md-5 col-md-offset-4">

 <button type="submit" class="btn primary-btn ">Envoyer</button>
</div>

	
	{{ form_end(form) }}
                            
                       </div>       
                </div>
            </div>

{% endblock %}